<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>무드 트립 - 내가 쓴 후기</title>
    <link rel="stylesheet" href="/static/css/mypage/my-reviews.css">
</head>
<body>
    <div>
        <div class="wrap">
            <div class="page">
                <div class="page-inner">
                    <aside class="user-settings-nav">
                        <div class="account-settings">계정 설정</div>
                        <hr orientation="horizontal" class="horizontal-line">
                        <a class="my_profile active" href="/templates/mypage/my-profile.html">내 정보</a>
                        <a class="my_matching active" href="/templates/mypage/my-matching.html">매칭 정보</a>
                        <a class="join_requests active" href="/templates/mypage/join-requests.html">
                            방 입장 요청 관리
                            <span class="notification-badge" id="join-requests-badge" style="display: none;">0</span>
                        </a>
                        <a class="my_reviews active" href="/templates/mypage/my-reviews.html">내가 쓴 후기</a>
                        <a class="my_tourist_attraction_wishlist active" href="/templates/mypage/my-tourist-attraction-wishlist.html">관광지 찜 목록</a>
                        <a class="change_password active" href="/templates/mypage/change-password.html">비밀번호 변경 정보</a>
                        <a class="alarm active" href="/templates/mypage/alarm.html">알림 설정</a>     
                    </aside>
                    <main class="mypage_info">
                        <div class="total-wrapper">
                            <div class="reviews-header">
                                <h1 class="info-title">내가 쓴 후기</h1>
                            </div>
                            
                            <!-- 통계 카드 -->
                            <div class="reviews-stats">
                                <div class="stat-card">
                                    <div class="stat-number" id="total-reviews">8</div>
                                    <div class="stat-label">총 후기</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="average-rating">4.2</div>
                                    <div class="stat-label">평균 평점</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="this-month-reviews">3</div>
                                    <div class="stat-label">이번 달 작성</div>
                                </div>
                                <!-- 얘 없애도됨 -->
                                <div class="stat-card">
                                    <div class="stat-number" id="total-likes">42</div>
                                    <div class="stat-label">받은 좋아요</div>
                                </div>
                            </div>
                            
                            <!-- 필터 바 -->
                            <div class="filter-bar">
                                <select class="filter-select" id="rating-filter">
                                    <option value="all">모든 평점</option>
                                    <option value="5">⭐⭐⭐⭐⭐ (5점)</option>
                                    <option value="4">⭐⭐⭐⭐ (4점)</option>
                                    <option value="3">⭐⭐⭐ (3점)</option>
                                    <option value="2">⭐⭐ (2점)</option>
                                    <option value="1">⭐ (1점)</option>
                                </select>
                                <select class="filter-select" id="sort-filter">
                                    <option value="newest">최신순</option>
                                    <option value="oldest">오래된순</option>
                                    <option value="rating-high">평점 높은순</option>
                                    <option value="rating-low">평점 낮은순</option>
                                    <option value="likes">좋아요순</option>
                                </select>
                                <input type="text" class="search-input" placeholder="여행지명으로 검색..." id="search-reviews">
                            </div>
                            
                            <div class="main-wrapper">
                                <!-- 후기 목록 -->
                                <div class="reviews-container">
                                    <!-- 후기 아이템 1 -->
                                    <div class="review-item" data-review-id="1">
                                        <div class="review-header">
                                            <div class="review-destination">
                                                <h3 class="destination-name">경복궁 야간 개장</h3>
                                                <div class="review-date">2025.06.28 여행 | 2025.06.30 작성</div>
                                            </div>
                                            <div class="review-actions">
                                                <button class="btn-edit" data-review-id="1">수정</button>
                                                <button class="btn-delete" data-review-id="1">삭제</button>
                                            </div>
                                        </div>
                                        <div class="review-content">
                                            <div class="review-rating">
                                                <div class="stars">
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                </div>
                                                <span class="rating-text">5.0</span>
                                            </div>
                                            <div class="review-text">경복궁 야간 개장은 정말 환상적이었습니다! 낮과는 완전히 다른 분위기로 조명이 궁궐을 아름답게 비춰주어 마치 조선시대로 돌아간 듯한 느낌이었어요. 특히 근정전과 경회루의 야경이 너무 인상깊었습니다. 사진 찍기에도 정말 좋은 곳이에요.
                                            </div>
                                        </div>
                                        <!-- <div class="review-footer">
                                            <div class="review-tags">
                                                <span class="tag">#야경</span>
                                                <span class="tag">#궁궐</span>
                                                <span class="tag">#사진명소</span>
                                                <span class="tag">#데이트코스</span>
                                            </div>
                                            <div class="review-stats">
                                                <span class="likes-count">♥ 12</span>
                                                <span class="views-count">👁 89</span>
                                            </div>
                                        </div> -->
                                    </div>

                                    <!-- 후기 아이템 2 -->
                                    <div class="review-item" data-review-id="2">
                                        <div class="review-header">
                                            <div class="review-destination">
                                                <h3 class="destination-name">제주도 성산일출봉</h3>
                                                <div class="review-date">2025.06.15 여행 | 2025.06.17 작성</div>
                                            </div>
                                            <div class="review-actions">
                                                <button class="btn-edit" data-review-id="2">수정</button>
                                                <button class="btn-delete" data-review-id="2">삭제</button>
                                            </div>
                                        </div>
                                        <div class="review-content">
                                            <div class="review-rating">
                                                <div class="stars">
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star">⭐</span>
                                                </div>
                                                <span class="rating-text">4.0</span>
                                            </div>
                                            <div class="review-text">성산일출봉에서 보는 일출은 정말 장관이었습니다. 새벽 5시에 출발해서 힘들었지만 그만한 가치가 있었어요. 다만 사람이 너무 많아서 좋은 자리 잡기가 어려웠고, 주차장도 꽉 차서 조금 아쉬웠습니다.
                                            </div>
                                        </div>
                                        <!-- <div class="review-footer">
                                            <div class="review-tags">
                                                <span class="tag">#일출</span>
                                                <span class="tag">#제주도</span>
                                                <span class="tag">#등반</span>
                                                <span class="tag">#새벽</span>
                                            </div>
                                            <div class="review-stats">
                                                <span class="likes-count">♥ 8</span>
                                                <span class="views-count">👁 156</span>
                                            </div>
                                        </div> -->
                                    </div>

                                    <!-- 후기 아이템 3 -->
                                    <div class="review-item" data-review-id="3">
                                        <div class="review-header">
                                            <div class="review-destination">
                                                <h3 class="destination-name">대전 대동 하늘공원</h3>
                                                <div class="review-date">2025.06.08 여행 | 2025.06.09 작성</div>
                                            </div>
                                            <div class="review-actions">
                                                <button class="btn-edit" data-review-id="3">수정</button>
                                                <button class="btn-delete" data-review-id="3">삭제</button>
                                            </div>
                                        </div>
                                        <div class="review-content">
                                            <div class="review-rating">
                                                <div class="stars">
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                    <span class="star filled">⭐</span>
                                                </div>
                                                <span class="rating-text">5.0</span>
                                            </div>
                                            <div class="review-text">대전의 숨은 보석 같은 곳이에요! 시내에서 가까우면서도 자연을 만끽할 수 있는 곳입니다. 하늘공원이라는 이름답게 정말 하늘과 가까운 느낌이었고, 대전 시내가 한눈에 보이는 전망도 좋았습니다.
                                            </div>
                                        </div>
                                        <!-- <div class="review-footer">
                                            <div class="review-tags">
                                                <span class="tag">#공원</span>
                                                <span class="tag">#전망</span>
                                                <span class="tag">#대전</span>
                                                <span class="tag">#산책</span>
                                            </div>
                                            <div class="review-stats">
                                                <span class="likes-count">♥ 15</span>
                                                <span class="views-count">👁 234</span>
                                            </div>
                                        </div> -->
                                    </div>

                                    <!-- 더 많은 후기들... -->
                                    <div class="load-more-container">
                                        <button class="btn-load-more" id="load-more-btn">더 보기</button>
                                    </div>
                                </div>

                                <!-- 후기가 없을 때 표시되는 영역 -->
                                <div class="empty-reviews" style="display: none;">
                                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14,2 14,8 20,8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                        <polyline points="10,9 9,9 8,9"></polyline>
                                    </svg>
                                    <h3>아직 작성한 후기가 없습니다</h3>
                                    <p>관광지를 방문하신 후 해당 관광지 페이지에서 후기를 작성해보세요!</p>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </div>
    </div>

    <!-- 후기 수정 모달 -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>후기 수정</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="edit-form">
                    <div class="form-group">
                        <label for="edit-destination">관광지명</label>
                        <input type="text" id="edit-destination" class="form-input" readonly>
                    </div>
                    <div class="form-group">
                        <label for="edit-rating">평점</label>
                        <div class="rating-input">
                            <div class="star-rating" id="edit-star-rating">
                                <span class="star-input" data-rating="1">⭐</span>
                                <span class="star-input" data-rating="2">⭐</span>
                                <span class="star-input" data-rating="3">⭐</span>
                                <span class="star-input" data-rating="4">⭐</span>
                                <span class="star-input" data-rating="5">⭐</span>
                            </div>
                            <span class="rating-value" id="edit-rating-value">5.0</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="edit-review-text">후기 내용</label>
                        <textarea id="edit-review-text" class="form-textarea" rows="5" placeholder="후기를 작성해주세요..."></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel">취소</button>
                <button class="btn-save-edit" id="saveEdit">수정 완료</button>
            </div>
        </div>
    </div>

    <!-- 후기 삭제 확인 모달 -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>후기 삭제</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>정말로 이 후기를 삭제하시겠습니까?</p>
                <p class="warning-text">삭제된 후기는 복구할 수 없습니다.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel">취소</button>
                <button class="btn-confirm-delete" id="confirmDelete">삭제</button>
            </div>
        </div>
    </div>

    <!-- 이미지 상세보기 모달 -->
    <div id="imageModal" class="modal image-modal">
        <div class="modal-content image-modal-content">
            <button class="modal-close image-modal-close">&times;</button>
            <img id="modalImage" src="" alt="후기 이미지">
            <div class="image-nav">
                <button class="btn-prev-image">&lt;</button>
                <button class="btn-next-image">&gt;</button>
            </div>
        </div>
    </div>

    <!-- 알림 토스트 -->
    <div id="toast-container"></div>

    <script src="/static/js/mypage/my-reviews.js"></script>
</body>
</html>