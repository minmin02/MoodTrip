<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>무드트립 : 동행자 매칭 방 만들기 감정 선택</title>
    <link rel="stylesheet" href="/static/css/creatingRoom/choosing-emotion.css">
    <script src="/static/js/creatingRoom/choosing-emotion.js"></script>
</head>
<body class="room-create phase-1">
    <div class="big-frame">
        <div class="room-create-formview">
            <div class="container">
                <div class="submit-progress">
                    <div class="room-status-box">
                        <a class="back-to-before link-text" onclick="exitWithSubmit('temporary_room_phase_1', 'False')" style="cursor: pointer;">
                            <img class="back-to-before-img" src="/static/image/creatingRoom/back-to-before.svg">
                            <p class="back-to-before-title body-1-medium">뒤로 가기</p>
                        </a>
                        <p class="menu-title subtitle-1-medium mb4">감정 선택하기</p>
                    </div>
                    <div class="input-group-status">
                        <p class="status-main-menu active body-2">방 상세 정보 입력</p>
                        <div class="status-sub-menu">
                            <p class="status-sub-menu-title completed">
                                <span class="bottom-border"></span>
                                <span class="sub-menu-marker">1</span>
                                <img class="phase-complete-icon" src="/static/image/creatingRoom/checkbox-checked.svg">
                                기본 정보
                            </p>
                            <p class="status-sub-menu-title active">
                                <span class="top-border"></span>
                                <span class="bottom-border"></span>
                                <span class="sub-menu-marker">2</span>
                                <img class="phase-complete-icon" src="/static/image/creatingRoom/checkbox-checked.svg">
                                감정 선택
                            </p>
                            <p class="status-sub-menu-title">
                                <span class="top-border"></span>
                                <span class="bottom-border"></span>
                                <span class="sub-menu-marker">3</span>
                                <img class="phase-complete-icon" src="/static/image/creatingRoom/checkbox-checked.svg">
                                여행지 선택
                            </p>
                            <p class="status-sub-menu-title">
                                <span class="top-border"></span>
                                <span class="sub-menu-marker">4</span>
                                <img class="phase-complete-icon" src="/static/image/creatingRoom/checkbox-checked.svg">
                                일정 선택
                            </p>
                        </div>
                        <p class="status-main-menu status-menu-with-tooltip body-2">방 최종 등록</p>
                    </div>
                </div>
                <form autocomplete="off" enctype="multipart/form-data" id="temporary_room_phase_1" method="POST" onsubmit="return validationPhase(this);" data-hs-cf-bound="true">
                    <input name="csrfmiddlewaretoken" type="hidden" value="tLyscS3cOgu3CROlEEk0U8u43AL0s2XJkUqonCkA8AGVb6qzImREIKoGdO5DQoNU">
                    
                    <div class="room-create-form-section">
                        <div class="form-section-header">
                            <p class="form-section-title subtitle-1">감정 선택</p>
                            <button class="room-form-guide-button header-button btn btn-8-16" type="button" onclick="openHelpModal()">
                                <img class="room-form-guide-button-img" src="/static/image/creatingRoom/question.svg">
                                도움말
                            </button>
                        </div>
                        <div class="form-input-section">
                            <div class="form-group-light mb48">
                                <label class="form-group-title body-1-bold">감정 태그 선택
                                    <span class="required">*</span>
                                </label>
                                <p class="body-2 text900 form-group-guide mb16">해당 감정을 가진 사람들이 들어올 수 있게 선택해주세요!</p>
                                
                                <!-- 카테고리 버튼들 -->
                                <div class="emotion-category-buttons mb24">
                                    <button type="button" class="category-btn" data-category="healing">
                                        <span class="category-icon">🌿</span>
                                        <span class="category-name">평온 & 힐링</span>
                                    </button>
                                    <button type="button" class="category-btn" data-category="romance">
                                        <span class="category-icon">💕</span>
                                        <span class="category-name">사랑 & 로맨스</span>
                                    </button>
                                    <button type="button" class="category-btn" data-category="adventure">
                                        <span class="category-icon">⚡</span>
                                        <span class="category-name">모험 & 스릴</span>
                                    </button>
                                    <button type="button" class="category-btn" data-category="freedom">
                                        <span class="category-icon">🕊️</span>
                                        <span class="category-name">자유 & 해방</span>
                                    </button>
                                    <button type="button" class="category-btn" data-category="joy">
                                        <span class="category-icon">✨</span>
                                        <span class="category-name">기쁨 & 즐거움</span>
                                    </button>
                                    <button type="button" class="category-btn" data-category="artistic">
                                        <span class="category-icon">🎨</span>
                                        <span class="category-name">감성 & 예술</span>
                                    </button>
                                </div>

                                <!-- 선택된 카테고리의 감정 태그들이 표시될 영역 -->
                                <div class="emotion-tags-display" id="emotionTagsDisplay" style="display: none;">
                                    <div class="emotion-tags-header">
                                        <h4 class="selected-category-title" id="selectedCategoryTitle"></h4>
                                        <button type="button" class="close-tags-btn" id="closeTagsBtn">×</button>
                                    </div>
                                    <div class="emotion-tags-grid" id="emotionTagsGrid">
                                        <!-- 선택된 카테고리의 감정 태그들이 여기에 동적으로 생성됩니다 -->
                                    </div>
                                </div>

                                <!-- 커스텀 감정 입력 (검색과 분리) -->
                                <div class="form-group-light">
                                    <label class="form-group-title body-1-bold mb4">커스텀 감정 태그 추가</label>
                                    <p class="mb16 body-2 text900">위에 원하시는 태그가 없다면 직접 입력하여 새로운 감정 태그를 추가해보세요!</p>
                                    <div class="form-content">
                                        <div class="roomName-search-form theme-client mb8">
                                            <input name="roomName_name" type="hidden">
                                            <div class="roomName-search-typing-box">
                                                <div class="roomName-search-input-group">
                                                    <i class="search_icon">
                                                        <img class="text-icon" src="/static/image/creatingRoom/search.svg">
                                                    </i>
                                                    <div class="roomName-search-selected"></div>
                                                    <input class="roomName-search-typing-input theme-client body-2" id="customEmotionInput" placeholder="새로운 감정 태그를 입력해주세요. ex) 기모찌" type="text">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 선택된 감정 태그 표시 -->
                                <div class="selected-emotions-container" id="selectedEmotionsContainer">
                                    <h4 class="selected-emotions-title">선택된 감정 태그</h4>
                                    <div class="selected-emotions-list" id="selectedEmotionsList">
                                        <!-- 선택된 감정들이 여기에 표시됩니다 -->
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-section-footer" style="position: sticky; bottom: 0; background-color: white; z-index: 50">
                                <button class="btn btn-client btn-11-24 btn-right" name="can_submit" type="submit" value="False" id="nextButton">다음</button>
                                <div style="clear: both;"></div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 감정 선택 도움말 모달 -->
    <div id="helpModal" class="help-modal" style="display: none;">
        <div class="help-modal-overlay" onclick="closeHelpModal()"></div>
        <div class="help-modal-content">
            <div class="help-modal-header">
                <h3>감정 태그 선택 도움말</h3>
                <button class="help-modal-close" onclick="closeHelpModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="#666" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            
            <div class="help-modal-body">
                <div class="help-section">
                    <h4>💭 감정 태그란?</h4>
                    <div class="emotion-explanation">
                        <p>감정 태그는 여행을 통해 <strong>느끼고 싶은 감정</strong>이나 <strong>현재 상태</strong>를 나타내는 키워드입니다.</p>
                        <p>비슷한 감정을 가진 동행자들과 만나 더욱 의미 있는 여행을 만들어보세요!</p>
                    </div>
                </div>

                <div class="help-section">
                    <h4>😊 감정별 여행 추천</h4>
                    <div class="emotion-categories">
                        <div class="emotion-category positive">
                            <h5>🌟 긍정적 감정</h5>
                            <div class="emotion-tags-preview">
                                <span class="preview-tag positive">행복</span>
                                <span class="preview-tag positive">즐거움</span>
                                <span class="preview-tag positive">설렘</span>
                                <span class="preview-tag positive">자신감</span>
                            </div>
                            <p class="emotion-description">새로운 도전이나 액티비티, 축제 등 에너지 넘치는 여행에 적합해요!</p>
                        </div>

                        <div class="emotion-category healing">
                            <h5>🌿 힐링 감정</h5>
                            <div class="emotion-tags-preview">
                                <span class="preview-tag healing">편안함</span>
                                <span class="preview-tag healing">차분함</span>
                                <span class="preview-tag healing">감동</span>
                            </div>
                            <p class="emotion-description">자연 속 휴식, 온천, 템플스테이 등 마음을 치유하는 여행에 좋아요!</p>
                        </div>

                        <div class="emotion-category sharing">
                            <h5>🤝 공감과 위로</h5>
                            <div class="emotion-tags-preview">
                                <span class="preview-tag sharing">슬픔</span>
                                <span class="preview-tag sharing">우울함</span>
                                <span class="preview-tag sharing">연대감</span>
                            </div>
                            <p class="emotion-description">서로를 이해하고 위로하며 함께 성장하는 여행을 원할 때 선택해요!</p>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h4>🎯 효과적인 선택 방법</h4>
                    <div class="selection-tips">
                        <div class="tip-item">
                            <div class="tip-icon">✨</div>
                            <div class="tip-content">
                                <strong>현재 상태 우선</strong>
                                <p>지금 느끼는 감정을 먼저 선택하고, 여행을 통해 얻고 싶은 감정을 추가해보세요</p>
                            </div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">🎨</div>
                            <div class="tip-content">
                                <strong>다양한 조합</strong>
                                <p>긍정적 감정과 힐링 감정을 함께 선택하면 더 풍부한 여행 경험이 가능해요</p>
                            </div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">💫</div>
                            <div class="tip-content">
                                <strong>솔직한 표현</strong>
                                <p>진정성 있는 감정 선택이 진짜 통하는 동행자를 만나는 열쇠입니다</p>
                            </div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">🌈</div>
                            <div class="tip-content">
                                <strong>적정 개수</strong>
                                <p>너무 많이 선택하지 마세요. 2-5개 정도가 적당합니다</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h4>✏️ 커스텀 태그 활용법</h4>
                    <div class="custom-examples">
                        <h5>📝 이런 감정들을 추가해보세요</h5>
                        <div class="custom-tags-grid">
                            <div class="custom-example">
                                <h6>🌍 여행 스타일</h6>
                                <div class="custom-tags">
                                    <span class="custom-tag">모험심</span>
                                    <span class="custom-tag">여유로움</span>
                                    <span class="custom-tag">호기심</span>
                                </div>
                            </div>
                            <div class="custom-example">
                                <h6>💪 개인적 목표</h6>
                                <div class="custom-tags">
                                    <span class="custom-tag">성장욕구</span>
                                    <span class="custom-tag">도전정신</span>
                                    <span class="custom-tag">자기계발</span>
                                </div>
                            </div>
                            <div class="custom-example">
                                <h6>😋 재미있는 표현</h6>
                                <div class="custom-tags">
                                    <span class="custom-tag">기모찌</span>
                                    <span class="custom-tag">힙합</span>
                                    <span class="custom-tag">YOLO</span>
                                </div>
                            </div>
                        </div>
                        <p class="custom-tip">💡 Enter키를 누르면 커스텀 태그가 추가됩니다!</p>
                    </div>
                </div>

                <div class="help-section">
                    <h4>⚡ 빠른 선택 팁</h4>
                    <div class="quick-selection">
                        <div class="quick-buttons">
                            <button type="button" class="quick-select-btn" onclick="selectQuickEmotions('positive')">
                                😊 긍정 에너지 충전
                            </button>
                            <button type="button" class="quick-select-btn" onclick="selectQuickEmotions('healing')">
                                🌿 힐링 여행
                            </button>
                            <button type="button" class="quick-select-btn" onclick="selectQuickEmotions('adventure')">
                                🚀 모험과 도전
                            </button>
                            <button type="button" class="quick-select-btn" onclick="selectQuickEmotions('comfort')">
                                🤗 위로와 공감
                            </button>
                        </div>
                        <p class="quick-tip">위 버튼들을 클릭하면 테마에 맞는 감정들이 자동으로 선택됩니다!</p>
                    </div>
                </div>
            </div>
            
            <div class="help-modal-footer">
                <div class="help-footer-info">
                    <p>💝 진솔한 감정 표현으로 특별한 동행자를 만나보세요!</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>